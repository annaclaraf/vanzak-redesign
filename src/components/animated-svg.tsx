"use client";

import { useInView } from "framer-motion";
import { useRef } from "react";

export function AnimatedSVG() {
  const ref = useRef<HTMLDivElement>(null);
  const isInView = useInView(ref, { once: true, amount: 0.3 });

  return (
    <div ref={ref} className="flex justify-center">
      <svg
        width="670px"
        height="240px"
        viewBox="0 0 670 240"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        className={`transition-all duration-1000 ease-in-out ${isInView ? 'animate-line' : ''}`}
      >
        <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
          <g stroke="#000" strokeWidth="3" transform="translate(-32.000000, -34.000000)">
            <g transform="translate(34.000000, 36.000000)">
              <path
                className={`line1 ${isInView ? 'line-animation' : ''}`}
                d="M0,132.858 L28.6641,132.858 C65.149,133.479 130.99,130.555 180.72,93.738 C233.051,54.994 189.44,4.043 149.28,0.254 C108.528,-3.59 23.3113,36.252 53.28,117.337 C81.1477,192.7376 176.486,152.6076 191.28,140.778 C218.721,118.836 226.38,77.136 227.76,54.618 C229.054,33.506 223.27,29.904 219.6,28.938 C212.552,27.083 198.436,35.184 209.76,51.018 C218.551,63.311 223.934,65.93 232.08,77.658 C238.919,87.504 256.647,114.755 240.24,149.658 C223.833,184.5608 195.277,186.9112 191.52,174.618 C187.477,161.3889 171.87,68.012 166.08,56.058 C163.503,50.738 144.833,1.652 117.12,14.538 C89.4067,27.424 108.24,70.938 108.24,70.938 C108.24,70.938 123.77,117.577 146.4,135.018 C169.03,152.4587 189.415,124.87 198.96,104.942 C207.018,88.117 211.142,32.338 182.4,44.058 C153.658,55.778 150.629,84.039 152.64,98.778 C154.651,113.517 156.732,107.375 152.668,107.963 C148.603,108.55 118.33,101.239 116.64,75.018 C114.983,49.31 136.341,38.079 155.76,44.538 C175.951,51.254 162.231,94.856 155.76,104.942 C149.328,114.967 154.212,122.932 160.08,128.058 C165.948,133.184 178.247,133.05 190.08,132.858 L266.814,132.858 C266.814,132.858 297.991,129.934 299.52,154.218 L300,215.898 C300,215.898 300.025,236 319.625,236 C339.225,236 338.4,215.898 338.4,215.898 L338.4,47.178 C338.4,47.178 339.6,30.138 357.48,30.138 C375.36,30.138 376.56,47.178 376.56,47.178 L376.56,168.618 C376.56,168.618 374.531,192.618 396.211,192.618 C417.891,192.618 415.92,168.618 415.92,168.618 L415.92,146.058 C415.92,146.058 415.888,132.858 434.67,132.858 C453.3,132.858 453.12,146.058 453.12,146.058 L453.12,168.618 C453.12,168.618 452.45,184.458 473.37,184.458 C494.29,184.458 493.68,168.618 493.68,168.618 L493.68,145.818 C493.68,145.818 492.779,132.858 511.2,132.858"
              />
               <path
                className={`line2 ${isInView ? 'line-animation' : ''}`}
                d="M267.84,132.858 C267.84,132.858 282.96,130.589 282.96,117.337 L282.96,19.578 C282.96,19.578 284.08,4.458 302.28,4.458 C320.48,4.458 321.6,19.578 321.6,19.578 L321.6,191.898 C321.6,191.898 321.193,209.658 341.753,209.658 C362.313,209.658 361.44,191.898 361.44,191.898 L361.44,65.898 C361.44,65.898 361.102,51.03 380.622,51.03 C400.142,51.03 399.36,65.898 399.36,65.898 L399.36,152.298 C399.36,152.298 398.851,168.618 419.131,168.618 C439.411,168.618 438.96,152.298 438.96,152.298 L438.96,106.458 C438.96,106.458 440.036,93.018 458.036,93.018 C476.036,93.018 476.4,106.458 476.4,106.458 L476.4,121.098 C476.4,121.098 475.832,132.858 488.4,132.858 L511.2,132.858"
              />
              <path
                className={`line3 ${isInView ? 'line-animation' : ''}`}
                d="M511.2,132.858012 C511.2,132.858012 531.421,131.313 543.36,117.337 C555.299,103.361 581.519,95.611 602.4,117.337 C617.425,132.971 621.937,132.858012 633.84,132.858012 L665.28,132.858012"
              />
              <path
                className={`line4 ${isInView ? 'line-animation' : ''}`}
                d="M511.2,132.858 C511.2,132.858 526.555,134.67 549.36,121.818 C572.165,108.966 591.11,118.091 599.28,122.778 C602.351,124.54 620.221,132.858 627.6,132.858"
              />
              <path
                className={`line5 ${isInView ? 'line-animation' : ''}`}
                d="M511.2,132.945988 C511.2,132.945988 531.421,134.491 543.36,148.4666 C555.299,162.4423 581.519,170.1928 602.4,148.4666 C617.425,132.833 621.937,132.945988 633.84,132.945988 L665.28,132.945988"
              />
              <path
                className={`line6 ${isInView ? 'line-animation' : ''}`}
                d="M511.2,132.946 C511.2,132.946 526.555,131.134 549.36,143.9857 C572.165,156.8378 591.11,147.7123 599.28,143.0257 C602.351,141.2638 620.221,132.946 627.6,132.946"
              />
              <line 
                className={`line7 ${isInView ? 'line-animation' : ''}`}
                x1="511.2"
                y1="132.858"
                x2="627.6"y2="132.858"
              />             
            </g>
          </g>
        </g>
      </svg>
    </div>
  );
}
